{% extends "base/base.html" %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/sign_up.css' %}">
<style>
       .container-bady::before {
           content: "";
           position: absolute;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           opacity: .7;
           background: url("/static/images/sign_up_background.jpg");
           background-position: center;
           background-size: cover;
           background-attachment: fixed;
       }
       .align-items-center .text-gold{
         color:#CA9E67;
         font-size: 16px;
       }
       .form-label{
         color: #113345;
       }
       
</style>
{% endblock css %}

{% block title %}
تحديث حساب
{% endblock title %}

{% block content %}
<div class="container py-4 d-flex flex-column justify-content-center align-items-center">
    <h3 class="text-center mt-4 mb-5">تحديث الحساب</h3>
    {% if msg %}
    <div class="alert alert-danger d-flex align-items-center justify-content-center w-100" role="alert">
        <svg class="bi flex-shrink-0 me-2" role="img" aria-label="Danger:" width="24" height="24" fill="currentColor">
            <use xlink:href="#exclamation-triangle-fill"/>
        </svg>
        <span>{{ msg }}</span>
    </div>
    {% endif %}
    {% if request.user.role == "Lawyer" %}
    <form action="{% url 'account:sign_up_view' %}" method="post" class="w-100" enctype="multipart/form-data">
        {% csrf_token %}
        <input type="hidden" name="role" value="Lawyer">
        <div class="row">
            <div class="col-md-6">
                <div class="mb-3">
                    <label class="form-label">الاسم الثلاثي:</label>
                    <input name="full_name" class="form-control" type="text" minlength="3" value="{{request.user.full_name}}" required placeholder="قم بكاتبة اسمك هنا">
                </div>
                <div class="mb-3">
                    <label class="form-label">البريد الالكتروني:</label>
                    <input name="email" class="form-control" type="email" value="{{request.user.email}}" disabled required placeholder="قم بوضع بريدك الالكتروني هنا">
                </div>
                <div class="mb-3">
                    <label class="form-label">الجوال:</label>
                    <input name="phone" class="form-control" type="text" maxlength="10" value="{{request.user.lawyer_profile.phone}}" pattern="^05[0-9]{4}[0-9]{4}$" required placeholder="05XXXXXXXX">
                </div>
                <div class="d-flex flex-column w-100">
                  <label for="category">التخصصات:</label>
                  <div class="dropdown mt-2">
                     <div class="btn-style-1 text-113345 w-100">اختر تخصصاتك</div>
                     <div class="dropdown-content ">
                        {% for specialty in specialties %}
                           <label>
                              <input type="checkbox"name="specialty" value="{{ specialty.name }}"class="dropdown-input" {% if specialty in  request.user.lawyer_profile.specialty.all  %} checked {% endif %}>
                              {{ specialty.name }}
                           </label>
                        {% endfor %}
                     </div>
                  </div>
               </div>
                <div>
                  <label class="form-label">نبذة:</label>
                  <textarea name="about" id=""  value="{{ request.user.lawyer_profile.about }}" cols="30" rows="1" class="form-control"  ></textarea>
                </div>

            </div>
            <div class="col-md-6">
                <div class="mb-3 ">
                    <label for="image" class="form-label">الصورة الشخصية:</label>
                    <input type="file" name="image" class="form-control mb-2">
                    <label for="back-image" class="form-label">الصورة الخلفية:</label>
                    <input type="file" name="back-image" class="form-control">
                </div>
                <div class="mb-3">
                    <label for="Qualification" class="form-label">المؤهل العلمي:</label>
                    <input type="file" name="Qualification" class="form-control">
                </div>
                <div class="mb-1">
                    <label for="licence" class="form-label">الرخصة:</label>
                    <input type="file" name="licence" class="form-control">
                </div>
                <div class=" mt-4 pt-3">
                  <label for="gender" class="form-label">الجنس:</label>
                 <div class="form-check form-check-inline">
                     <input class="form-check-input" type="radio" id="male" name="gender" value="male" {% if request.user.lawyer_profile.gender == 'male' %} checked {% endif %}>
                     <label class="form-check-label" for="male">ذكر</label>
                 </div>
                 <div class="form-check form-check-inline">
                     <input class="form-check-input" type="radio" id="female" name="gender" value="female">
                     <label class="form-check-label" for="female {% if request.user.lawyer_profile.gender == 'female' %} checked {% endif %}">أنثى</label>
                 </div>
             </div>
               </div>
               <div>
                  <input type="submit" class="btn my-2 text-white w-100" style="background-color:#113345" value="تحديث" />
               </div>
        </div>
    </form>



    {% else %}
    
    
    <!-- client update -->

      {% if msg %}
         <svg xmlns="http://www.w3.org/2000/svg" class="d-none h-100">
            <symbol id="exclamation-triangle-fill" viewBox="0 0 16 16">
            <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
            </symbol>
         </svg>
         <div class="d-flex w-100 justify-content-center myalart">
            <div class="alert alert-danger d-flex align-items-center w-75"
                 role="alert">
               <svg class="bi flex-shrink-0 me-2 danger-svg"  role="img"  aria-label="Danger:">
                  <use xlink:href="#exclamation-triangle-fill" />
               </svg>
               <span class="px-3 text-danger-emphasis">{{ msg }}</span>
            </div>
         </div>
      {% endif %}
      <div class="form d-flex flex-column justify-content-center form-width">
         <form action="{% url 'account:sign_up_view' %}" method="post" class="d-flex flex-column gap-2" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="hidden" name="role" value="Customar">
            <label class="form-label mb-0 mt-2">الاسم الثلاثي:</label>
            <input name="full_name" class="form-control" style="width: 100%" type="text" value="{{ request.user.full_name }}" minlength="3" required placeholder="قم بكاتبة اسمك هنا" />

          
            <label class="form-label mb-0 mt-2">البريد الالكتروني</label>
            <input name="email" class="form-control" disabled type="email" value="{{ request.user.email }}" required placeholder="قم بوضع بريدك الالكتروني هنا" />

            <label for="about">نبذة:</label>
            <textarea name="about" id="" cols="30" rows="3" class="form-control"></textarea>

            <label class="form-label mb-0 mt-2">الجوال</label>
            <input name="phone" class="form-control" type="text" maxlength="10" value="{{ user.phone }}" pattern="^05[0-9]{4}[0-9]{4}$" required placeholder="05XXXXXXXX" />

            <div class=" ">
               <label for="image" class="form-label">الصورة الشخصية:</label>
               <input type="file" name="image" class="form-control mb-2">
               <label for="back-image" class="form-label">الصورة الخلفية:</label>
               <input type="file" name="back-image" class="form-control">
           </div>

            <span class="text-end message"></span>
          
            <span class="text-end message"></span>
            <input type="submit" class="btn my-2 text-white" style="background-color:#113345" value="سجل" />
         </form>
         <span>لديك بالفعل حساب؟ <a href="{% url 'account:login_view' %}">تسجيل الدخول هنا</a> </span>
      </div>
<!-- end client tab -->


    {% endif %}
</div>
{% endblock content %}
