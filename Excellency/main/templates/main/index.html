{# djlint:off H030,H031,H006,H021 #}
{% extends "base/base.html" %}
{% load static %}
{% block title %}
  الرئيسية
{% endblock title %}
{% block css %}
  <link rel="stylesheet" href="{% static "css/index_style.css" %}">
{% endblock css %}
{% block content %}
  <section>
    <div class="container-fluid overflow-x-hidden shadow-lg">
      <div id="carouselExampleControls"
           class="carousel slide"
           data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="{% static 'images/galary-1.jpg' %}"
                 class="d-block w-100  justify-content-center"
                 style="max-height: 500px;
                        object-fit: cover;
                        justify-content: center"
                 alt="Image 1">
          </div>
          <div class="carousel-item">
            <img src="{% static 'images/galary-2.jpg' %}"
                 class="d-block w-100  justify-content-center"
                 style="max-height: 500px;
                        object-fit: cover;
                        justify-content: center"
                 alt="Image 2">
          </div>
          <div class="carousel-item">
            <img src="{% static 'images/galary-3.jpg' %}"
                 class="d-block w-100  justify-content-center"
                 style="max-height: 500px;
                        object-fit: cover;
                        justify-content: center"
                 alt="Image 3">
          </div>
        </div>
        <button class="carousel-control-prev"
                type="button"
                data-bs-target="#carouselExampleControls"
                data-bs-slide="prev">
          <i class="fas fa-chevron-left"></i>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next"
                type="button"
                data-bs-target="#carouselExampleControls"
                data-bs-slide="next">
          <i class="fas fa-chevron-right"></i>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
  </section>
  <section>
    <div class="container">
      <div class="row card-home-page justify-content-center">
        <div class="col-md-3">
          <div class="card">
            <div class="circle-icon">
              <i class="fa fa-comments" style="color: #CA9E67;"></i>
              
            </div>
            <div class="card-body">
              <h5 class="card-title" style="color: #CA9E67;">استشارة</h5>
              <div class="h-50 align-items-center">
                <p style="color: #CA9E67;">
                  تساعد الاستشارة القانونية المستشير على حماية حقوقه القانونية، ومعرفة الوسائل القانونية المتاحة له.
                </p>
              </div>
              <div class="d-flex justify-content-center">
                <a href="#"
                   class="btn btn-outline-dark w-50 mb-5"
                   style="color: #ca9e67;
                          border-color: #ca9e67">اطلب</a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card">
            <div class="circle-icon">
              <i class="fas fa-file-contract" style="color: #CA9E67;"></i>
            </div>
            <div class="card-body">
              <h5 class="card-title" style="color: #CA9E67;">صياغة عقود</h5>
              <div class="h-50 align-items-center">
                <p style="color: #CA9E67;">
                  عملية إنشاء وتحرير اتفاقية ملزمة قانونًا بين طرفين أو أكثر، لتحديد حقوقهم ومسؤولياتهم والتزاماتهم.
                </p>
              </div>
              <div class="d-flex justify-content-center">
                <a href="#"
                   class="btn btn-outline-dark w-50 mb-5"
                   style="color: #ca9e67;
                          border-color: #ca9e67">اطلب</a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card">
            <div class="circle-icon">
              <i class="fas fa-book" style="color: #CA9E67;"></i>
            </div>
            <div class="card-body">
              <h5 class="card-title" style="color: #CA9E67;">المذكرات</h5>
              <div class="h-50 align-items-center">
                <p style="color: #CA9E67;">هي كافة الكتابات القانونية المتعلقة بالعمل القانوني أمام المحاكم.</p>
              </div>
              <div class="d-flex justify-content-center">
                <a href="#"
                   class="btn btn-outline-dark w-50 mb-5"
                   style="color: #ca9e67;
                          border-color: #ca9e67">اطلب</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="number-section mb-5">
    <h1 class="text-center custom-color">أرقامنا</h1>
    <div class="container">
      <div class="row">
        <div class="col-md-4">
          <div class="card-section ">
            <div class="card-body-2">
              <i class="fas fa-handshake custom-color"></i>
              
              <span class="custom-color animate-number">500</span>
              <h5 class="custom-color">استشارة</h5>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card-section">
            <div class="card-body-2">
              <i class="fas fa-user custom-color"></i>
              <span class="custom-color animate-number">200</span>
              <h5 class="custom-color">محامي</h5>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card-section">
            <div class="card-body-2">
              <i class="fa fa-users custom-color "></i>
              <span class="custom-color animate-number">50</span>
              <h5 class="custom-color">عميل</h5>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
        const observer = new IntersectionObserver(entries => {
            // Loop through the entries
            entries.forEach(entry => {
                // If the element is visible
                if (entry.isIntersecting) {
                    const spans = document.querySelectorAll('.animate-number');
                    spans.forEach(span => {
                        if (!span.classList.contains('animated')) { // Check if animation has been applied
                            const finalNumber = parseInt(span.textContent, 10);
                            let currentNumber = 1;
    
                            const interval = setInterval(function() {
                                span.textContent = currentNumber;
                                currentNumber++;
                                if (currentNumber > finalNumber) {
                                    clearInterval(interval);
                                    span.classList.add('animated'); // Add a class to prevent re-animation
                                }
                            }, 3);
                        }
                    });
                    observer.disconnect(); // Optionally disconnect observer after animation
                }
            });
        }, {
            threshold: 0.5 // Trigger when at least 50% of the element is visible
        });
    
        // Target the section to watch
        const section = document.querySelector('.number-section');
        observer.observe(section); // Observe the 'number-section'
    });
    </script>
    
{% endblock content %}
